DROP PROCEDURE IF EXISTS SP_ALL_CUSTOMER_MIG_INSERT;
CREATE PROCEDURE SP_ALL_CUSTOMER_MIG_INSERT(IN SOURCESCHEMA VARCHAR(50),IN DESTINATIONSCHEMA VARCHAR(50),IN MIGUSERSTAMP VARCHAR(100))
BEGIN
CALL SP_TEMP_CUSTOMER_SCDB_FORMAT(SOURCESCHEMA,DESTINATIONSCHEMA);
CALL SP_MIG_CUSTOMER_INSERT(SOURCESCHEMA,DESTINATIONSCHEMA,MIGUSERSTAMP);
CALL SP_MIG_CUSTOMER_ENTRY_DETAILS(SOURCESCHEMA,DESTINATIONSCHEMA,MIGUSERSTAMP);
CALL SP_MIG_CUSTOMER_LP_DETAILS(SOURCESCHEMA,DESTINATIONSCHEMA,MIGUSERSTAMP);
CALL SP_MIG_CUSTOMER_FEE_INSERT(SOURCESCHEMA,DESTINATIONSCHEMA,MIGUSERSTAMP);
CALL SP_CUSTOMER_PERSONAL_DETAILS_INSERT(SOURCESCHEMA,DESTINATIONSCHEMA,MIGUSERSTAMP);
CALL SP_TEMP_CUSTOMER_ACCESS_CARD_DETAILS(SOURCESCHEMA,DESTINATIONSCHEMA);
CALL SP_CUSTOMER_ACCESS_CARD_DETAILS(SOURCESCHEMA,DESTINATIONSCHEMA,MIGUSERSTAMP);
END;