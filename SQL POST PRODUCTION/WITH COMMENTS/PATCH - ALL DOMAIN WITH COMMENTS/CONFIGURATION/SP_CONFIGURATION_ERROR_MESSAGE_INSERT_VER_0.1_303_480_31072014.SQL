-- version:0.1 --sdate:31/07/2014 --edate:31/07/2014 --issue:303 --desc:insert query for error msg configuration  --comment no#457 --done by:RL
DROP PROCEDURE IF EXISTS SP_CONFIGURATION_ERROR_MESSAGE_INSERT;
CREATE PROCEDURE SP_CONFIGURATION_ERROR_MESSAGE_INSERT(
IN FILENAME TEXT,
IN USERSTAMP VARCHAR(50),
OUT SUCCESS_MESSAGE TEXT)
BEGIN

-- VARIABLE DECLARATION
	DECLARE FAILURE_ECN_DATA TEXT;
	DECLARE FAIL_ECNDATA TEXT;
    DECLARE SUCCESS_ECNDATA TEXT;
	DECLARE FAILURE_ECNDATA TEXT;
	DECLARE SUCCESSECNDATA TEXT;
	DECLARE FAILUREECNDATA TEXT;
	DECLARE PATCHFILENAME VARCHAR(100);
	DECLARE PHSTATUS TINYINT;
	
-- QUERY FOR ROLLBACK COMMAND
	DECLARE EXIT HANDLER FOR SQLEXCEPTION
	BEGIN 
		ROLLBACK;
		INSERT INTO PATCH_HISTORY(PO_ID,PH_FILE_NAME,PH_STATUS,ULD_ID) VALUES (1,FILENAME,0,(SELECT ULD_ID FROM USER_LOGIN_DETAILS WHERE ULD_LOGINID=USERSTAMP));
		SET SUCCESS_MESSAGE = FAIL_ECNDATA;
	END;
	START TRANSACTION;
	
	SET FOREIGN_KEY_CHECKS = 0;
	
-- QUERY FOR GET ERROR MESSGAE FROM ERROR_MESSAGE_CONFIGURATION TABLE
	SET SUCCESS_ECNDATA =  (SELECT EMC_DATA FROM ERROR_MESSAGE_CONFIGURATION WHERE EMC_ID=469);
	SET FAILURE_ECNDATA =  (SELECT EMC_DATA FROM ERROR_MESSAGE_CONFIGURATION WHERE EMC_ID=470);
	SET FAILURE_ECN_DATA = (SELECT EMC_DATA FROM ERROR_MESSAGE_CONFIGURATION WHERE EMC_ID=473);
	
-- QUERY FOR REPLACE [FILENAME]
	SET SUCCESSECNDATA = (SELECT REPLACE(SUCCESS_ECNDATA,'[FILENAME]',FILENAME));
	SET FAILUREECNDATA = (SELECT REPLACE(FAILURE_ECNDATA,'[FILENAME]',FILENAME));
	SET FAIL_ECNDATA = (SELECT REPLACE(FAILURE_ECN_DATA,'[FILENAME]',FILENAME));
	
-- QUERY FOR CHECK THE PASSING FILE NAME EXISTS IN PATCH_HISTORY TABLE
	IF EXISTS(SELECT PH_FILE_NAME FROM PATCH_HISTORY WHERE PH_FILE_NAME = FILENAME AND PH_STATUS = 1) THEN
		SET SUCCESS_MESSAGE = FAILUREECNDATA;
	END IF;
	
-- QUERY FOR CHECK THE PASSING FILE NAME NOT EXISTS IN PATCH_HISTORY TABLE
	SET PATCHFILENAME = (SELECT PH_FILE_NAME FROM PATCH_HISTORY WHERE PH_FILE_NAME = FILENAME);
	SET PHSTATUS = (SELECT PH_STATUS FROM PATCH_HISTORY WHERE PH_FILE_NAME = FILENAME AND PH_STATUS = 0);
	
	IF ((PATCHFILENAME IS NOT NULL) AND (PHSTATUS = 0)) OR (PATCHFILENAME IS NULL)THEN
	
-- CUSTOMER DOMAIN CHECK CONSTRANIT ERROR MSG
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,484,'ALREADY THIS RECVER [REC VER] EXISTS FOR THIS CUSTOMER [CUSTOMER]',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,485,'ELECTRICITY CAPPED SHOULD BE MAXIMUM 3 DIGITS',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,486,'RENT SHOULD BE MAXIMUM 5 DIGITS',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,487,'DEPOSIT SHOULD BE MAXIMUM 5 DIGITS',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,488,'PROCESSING COST SHOULD BE MAXIMUM 4 DIGITS',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,489,'AIRCON FIXED FEE SHOULD BE MAXIMUM 3 DIGITS',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,490,'AIRCON QUARTELY FEE SHOULD BE MAXIMUM 3 DIGITS',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,491,'DRYCLEAN FEE SHOULD BE MAXIMUM 3 DIGITS',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,492,'CHECKOUT CLEANING FEE SHOULD  BE MAXIMUM 3 DIGITS',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,493,'THIS RECVER [RECVER] & THIS AMOUNT [AMOUNT] ALREADY EXISTS FOR THIS CUSTOMER [CUSTOMER]',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,494,'THERE SHLD BE ONE AIRCON FEE OR FIXED AIRCON,THIS CUSTOMER [CUSTOMER] ALREADY HAVING AIRCON_QUARTELY_FEE IN THIS LP',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,495,'THERE SHLD BE ONE AIRCON FEE OR FIXED AIRCON,THIS CUSTOMER [CUSTOMER] ALREADY HAVING AIRCON_FIXED_FEE IN THIS LP',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,496,'ACN_ID NOT IN ACCESS_CONFIGURATION TABLE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,497,'UASD_ID  NOT IN UNIT_ACCESS_STAMP_DETAILS TABLE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,498,'CUSTOMER ENDDATE SHOULD GREATER THAN STARTDATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,499,'CUSTOMER STARTDATE SHOULD GREATER THAN UNIT STARTDATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,500,'CUSTOMER ENDDATE SHOULD LESS THAN UNIT ENDDATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,501,'INVALID PERIOD SHOULD NOT UPDATE AS TERMINATE="X"',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,502,'GIVE VALID RECVER! THIS RECVER [RECVER] ALREADY EXISTS',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,503,'PASSPORT DATE SHOULD BE GREATER THAN TODAY DATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,504,'PASSPORT DATE SHOULD BE WITHIN 10 YEARS FROM TODAY DATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,505,'EP DATE SHOULD BE GREATER THAN TODAY DATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(3,506,'EP DATE SHOULD BE WITHIN 3 YEARS FROM TODAY DATE',2,'2014-04-01 00:00:00');
		
-- CHEQUE DOMAIN CHECK CONSTRANIT ERROR MSG
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(16,507,'CHEQUE AMOUNT SHOULD BE LESS THAN OR EQUAL TO 5 DIGITS',2,'2014-04-01 00:00:00');
		
-- OCBC DOMAIN CHECK CONSTRANIT ERROR MSG
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(6,508,'ACCOUNT NUMBER ID SHOULD BE 3 ONLY',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(6,509,'CURRENCY ID SHOULD BE 2 ONLY',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(6,510,'OCN ID SHOULD  BETWEEN 4 TO 8',2,'2014-04-01 00:00:00');
		
-- ERM DOMAIN CHECK CONSTRANIT ERROR MSG
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(15,511,'NC_ID NOT IN NATIONALITY CONFIGURATION TABLE',2,'2014-04-01 00:00:00');
		
-- STAFF DAILY DOMAIN CHECK CONSTRANIT ERROR MSG		
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,512,'FROM_PERIOD SHOULD LESSTHAN INVOICE_DATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,513,'TO_PERIOD SHOULD LESSTHAN OR EQUAL TO FROM_PERIOD',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,514,'TO_PERIOD SHOULD LESSTHAN INVOICE_DATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,515,'ECN_ID SHOULD BETWEEN 25 TO 29',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,516,'DATE SHOULD LESSTHAN OR EQUAL TO TODAY DATE',2,'2014-04-01 00:00:00');
		
-- BIZ DETAIL DOMAIN CHECK CONSTRANIT ERROR MSG		
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,517,'ECN_ID SHOULD BETWEEN 19 TO 21',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,518,'APPL DATE SHOULD BETWEEN UNIT STARTDATE AND ENDDATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,519,'CABLE STARTDATE SHOULD NOT BE NULL',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,520,'CABLE ENDDATE SHOULD NOT BE NULL',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,521,'INTERNET STARTDATE SHOULD NOT BE NULL',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,522,'INTERNET ENDDATE SHOULD NOT BE NULL',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,523,'CABLE STARTDATE SHOULD BETWEEN UNIT STARDATE AND ENDDATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,524,'CABLE ENDDATE SHOULD BETWEEN UNIT STARDATE AND UNIT ENDDATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,525,'INTERNET STARTDATE SHOULD BETWEEN UNIT STARDATE  AND UNIT ENDDATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,526,'INTERNET ENDDATE SHOULD BETWEEN UNIT STARDATE  AND UNIT ENDDATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,527,'CABLE ENDDATE SHOULD BE GREATER THEN OR EQUAL TO CABLE STARTDATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,528,'INTERNET ENDDATE SHOULD BE GREATER THEN OR EQUAL TO INTERNET STARTDATE',2,'2014-04-01 00:00:00');
		
-- BIZ DAILY DOMAIN CHECK CONSTRANIT ERROR MSG		
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,529,'CUSTOMER_ID NOT IN CUSTOMER TABLE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,530,'ECN_ID SHOULD BE 23 ONLY',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,531,'ECN_ID SHOULD BE 22 OR 24 ONLY',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,532,'BOTH DEPOSIT AND AMOUNT SHOULD NOT BE NULL ENTER ANY ONE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,533,'BOTH DEPOSIT AND AMOUNT SHOULD NOT BE NOT NULL ENTER ANY ONE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,534,'CARD NO SHOULD BE LESS THAN OR EQUAL TO 7 DIGITS',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,535,'INVOICE_DATE BETWEEN STARTDATE AND ENDDATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,536,'BOTH CASH_IN AND CASH_OUT AMOUNT SHOULD NOT BE NULL ENTER ANY ONE AMOUNT',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,537,'BOTH CASH_IN AND CASH_OUT AMOUNT SHOULD NOT BE NOT NULL ENTER ANY ONE AMOUNT',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,538,'DATE BETWEEN EPC_DATE AND TODAY DATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,539,'IF HOURS IS 24 MEANS MINUTES SHOULD BE 00 ONLY',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,540,'BOTH UNIT_ID  AND EHKU_ID SHOULD NOT BE NULL ENTER ANY ONE ID',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,541,'BOTH UNIT_ID  AND EHKU_ID SHOULD NOT BE NOT NULL ENTER ANY ONE ID',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,542,'UNIT_ID NOT IN UNIT TABLE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,543,'EHKU_ID NOT IN EXPENSE_HOUSEKEEPING_UNIT TABLE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,544,'FOR_PERIOD SHOULD LESS THAN OR EQUAL TO TODAY DATE',2,'2014-04-01 00:00:00');
		
-- PERSONAL DOMAIN CHECK CONSTRANIT ERROR MSG
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,545,'PAID_DATE SHOULD LESS THAN OR EQUAL TO TODAY DATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,546,'FROM_PREIOD SHOULD BE LESS TAHN OR EQUAL TO PAID_DATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,547,'TO_PERIOD SHOULD BETWEEN FROM_PERIOD AND PAID_DATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,548,'ECN_ID SHOULD BETWEEN 42 TO 47',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,549,'ECN_ID SHOULD BETWEEN 30 TO 34',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,550,'ECN_ID SHOULD BETWEEN 48 TO 50',2,'2014-04-01 00:00:00');
		
-- EMPLOYEE DOMAIN CHECK CONSTRANIT ERROR MSG	
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,551,'CAN NOT UPDATE URTD_ID',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(7,552,'CAN NOT INSERT URTD_ID',2,'2014-04-01 00:00:00');
		
-- UNIT DOMAIN CHECK CONSTRANIT ERROR MSG
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(2,553,'CAN NOT INSERT USDT_ID',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(2,554,'CAN NOT UPDATE USDT_ID',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(2,555,'UNIT STARTDATE SHOULD BE LESS THAN OR EQUAL TO UNIT ENDDATE',2,'2014-04-01 00:00:00');
		
-- PAYMENT DOMAIN CHECK CONSTRANIT ERROR MSG
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(4,556,'CANNOT PAY FOR THIS RECVER [RECVER]',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(4,557,'FOR_PERIOD SHOULD BETWEEN STARTDATE AND ENDDATE',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(4,558,'ALREADY PAID FOR THIS MONTH [MONTH]',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(4,559,'CANNOT PAY DEPOSIT REFUND FOR THIS MONTH [MONTH]',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(4,560,'ALREADY PAID DEPOSIT REFUND FOR THIS CUSTOMER [CUSTOMER]',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(4,561,'CANNOT PAY DEPOSIT FOR THIS MONTH [MONTH]',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(4,562,'ALREADY PAID DEPOSIT FOR THIS CUSTOMER [CUSTOMER]',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(4,563,'CANNOT PAY PROCESSING FEE FOR THIS MONTH [MONTH]',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(4,564,'ALREADY PAID PROCESSING FEE FOR THIS CUSTOMER [CUSTOMER]',2,'2014-04-01 00:00:00');
		INSERT INTO ERROR_MESSAGE_CONFIGURATION(CNP_ID,EMC_CODE,EMC_DATA,ULD_ID,EMC_TIMESTAMP) VALUES
		(4,565,'INVALID RECORD VERSION [REC VER]',2,'2014-04-01 00:00:00');
		UPDATE ERROR_MESSAGE_CONFIGURATION SET EMC_DATA='TO_PERIOD SHOULD BETWEEN FROM_PERIOD AND +2 MONTH', EMC_TIMESTAMP='2014-04-01 00:00:00.0' WHERE EMC_ID=477;

		
-- QUERY FOR INSERT VALUES IN PATCH_HISTORY
		INSERT INTO PATCH_HISTORY(PO_ID,PH_FILE_NAME,PH_STATUS,ULD_ID) VALUES (1,FILENAME,1,(SELECT ULD_ID FROM USER_LOGIN_DETAILS WHERE ULD_LOGINID=USERSTAMP));
		SET SUCCESS_MESSAGE = SUCCESSECNDATA;
		
		SET FOREIGN_KEY_CHECKS = 1;
	
	END IF;
	
	COMMIT;

END;

CALL SP_CONFIGURATION_ERROR_MESSAGE_INSERT(FILENAME,USERSTAMP,@SUCCESS_MESSAGE);