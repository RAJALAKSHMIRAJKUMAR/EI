DROP PROCEDURE IF EXISTS SP_TRG_EMPLOYEE_CARD_DETAILS;
CREATE PROCEDURE SP_TRG_EMPLOYEE_CARD_DETAILS
( 
IN UASDID INTEGER,
IN CARD VARCHAR(10)
)
BEGIN
DECLARE MESSAGE_TEXT VARCHAR(100);
IF(CARD='INSERT') THEN
    IF EXISTS (SELECT UASD_ID FROM EMPLOYEE_CARD_DETAILS WHERE UASD_ID=UASDID) THEN
    SIGNAL SQLSTATE '45000'
    SET MESSAGE_TEXT= 'CAN NOT UPDATE UASD_ID ';
    END IF;
 END IF;
 IF(CARD='UPDATE') THEN
    IF EXISTS (SELECT UASD_ID FROM EMPLOYEE_CARD_DETAILS WHERE UASD_ID=UASDID) THEN
    SIGNAL SQLSTATE '45000'
    SET MESSAGE_TEXT= 'CAN NOT UPDATE UASD_ID ';
    END IF;
 END IF;
 END;